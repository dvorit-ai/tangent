<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tangent - A Variable Font System</title>
    <link rel="stylesheet" href="style.css">
    <script>
        // Scroll progress indicator
        document.addEventListener('DOMContentLoaded', function () {
            const sections = document.querySelectorAll('.section');
            const menuLineWrappers = document.querySelectorAll('.menu-line-wrapper');
            const menuLines = document.querySelectorAll('.menu-line');

            // Group sections by their main category
            const sectionGroups = [
                [0], // Hero
                [1, 2], // Transformation (intro + axes + specimen)
                [3, 4, 5, 6, 7], // Connection (intro + keyboard + glyphset + typing)
                [8, 9, 10], // Generation (intro + processing + posters)
                [11, 12, 13, 14], // Variability (intro + alphabet + axes + typing)
                [15, 16, 17, 18, 19], // Specimen (intro + 3 versions + context)
                [20, 21] // Download + specs
            ];

            function updateProgress() {
                const scrollPosition = window.scrollY + window.innerHeight / 2;

                let currentGroup = 0;
                sections.forEach((section, index) => {
                    const sectionTop = section.offsetTop;
                    const sectionBottom = sectionTop + section.offsetHeight;

                    if (scrollPosition >= sectionTop && scrollPosition < sectionBottom) {
                        // Find which group this section belongs to
                        sectionGroups.forEach((group, groupIndex) => {
                            if (group.includes(index)) {
                                currentGroup = groupIndex;
                            }
                        });
                    }
                });

                // Update active state
                menuLines.forEach((line, i) => {
                    if (i === currentGroup) {
                        line.classList.add('active');
                    } else {
                        line.classList.remove('active');
                    }
                });
            }

            // Click to scroll to section
            menuLineWrappers.forEach((wrapper, index) => {
                wrapper.addEventListener('click', function () {
                    const targetSectionIndex = sectionGroups[index][0];
                    const targetSection = sections[targetSectionIndex];
                    if (targetSection) {
                        targetSection.scrollIntoView({ behavior: 'smooth' });
                    }
                });
            });

            window.addEventListener('scroll', updateProgress);
            updateProgress(); // Initial call
        });
    </script>
</head>

<body>

    <!-- FIXED NAVIGATION -->
    <div class="meta-line">Transforming through Transmission</div>
    <div class="nav"><a href="#download">Download</a></div>
    <div class="menu-lines">
        <div class="menu-line-wrapper" data-section="0">
            <div class="menu-line"></div>
            <div class="section-title-tooltip">Back to Top</div>
        </div>
        <div class="menu-line-wrapper" data-section="1">
            <div class="menu-line"></div>
            <div class="section-title-tooltip">Four Axes</div>
        </div>
        <div class="menu-line-wrapper" data-section="2">
            <div class="menu-line"></div>
            <div class="section-title-tooltip">Connection</div>
        </div>
        <div class="menu-line-wrapper" data-section="3">
            <div class="menu-line"></div>
            <div class="section-title-tooltip">Generation</div>
        </div>
        <div class="menu-line-wrapper" data-section="4">
            <div class="menu-line"></div>
            <div class="section-title-tooltip">Variability</div>
        </div>
        <div class="menu-line-wrapper" data-section="5">
            <div class="menu-line"></div>
            <div class="section-title-tooltip">Specimen</div>
        </div>
        <div class="menu-line-wrapper" data-section="6">
            <div class="menu-line"></div>
            <div class="section-title-tooltip">Download</div>
        </div>
    </div>

    <!-- [1] HERO -->
    <section class="section bg-green">
        <div class="centered-layout">
            <h1 class="hero-title">Tangent</h1>
            <p class="section-subtitle">
                A variable font system exploring transformation through transmission
            </p>
            <div class="letter-cards">
                <div class="letter-card">
                    <div class="letter-slot" data-index="0">
                        <div class="letter-reel">
                            <div class="letter-item">F</div>
                        </div>
                    </div>
                </div>
                <div class="letter-card">
                    <div class="letter-slot" data-index="1">
                        <div class="letter-reel">
                            <div class="letter-item">O</div>
                        </div>
                    </div>
                </div>
                <div class="letter-card">
                    <div class="letter-slot" data-index="2">
                        <div class="letter-reel">
                            <div class="letter-item">R</div>
                        </div>
                    </div>
                </div>
                <div class="letter-card">
                    <div class="letter-slot" data-index="3">
                        <div class="letter-reel">
                            <div class="letter-item">M</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- [2] TRANSFORMATION INTRO -->
    <!-- <section class="section bg-light-yellow">
        <div class="centered-layout">
            <h2 class="section-title">4 Axes</h2>
            <p class="section-subtitle">
                Radius, twist, weight, and amplitude create a system where glyphs continuously evolve. Each axis transforms the character of the letterforms, enabling infinite variation within a single typeface.
            </p>
        </div>
    </section> -->

    <!-- [2a] AXIS GRID -->
    <section class="section tall bg-linen">
        <div class="centered-layout">
            <div class="section-text">
                <h2 class="section-title">Four Axes</h2>
                <p class="section-subtitle">
                    Radius, twist, weight, and amplitude create a system where glyphs continuously evolve. Each axis
                    transforms the character of the letterforms, enabling infinite variation within a single typeface.
                </p>
            </div>
            <div class="axis-grid">
                <div class="axis-card">
                    <div class="axis-visual">
                        <div class="axis-text" id="twist-text">qwe<br>asd<br>zxc</div>
                    </div>
                    <div class="axis-label">Twist</div>
                    <div class="axis-controls">
                        <button class="play-btn" id="twist-play">▶</button>
                        <input type="range" min="0" max="100" value="0" class="axis-slider" id="twist-slider">
                    </div>
                    <div class="axis-range"><span id="twist-value">0</span></div>
                </div>

                <div class="axis-card">
                    <div class="axis-visual">
                        <div class="axis-text" id="radius-text">qwe<br>asd<br>zxc</div>
                    </div>
                    <div class="axis-label">Radius</div>
                    <div class="axis-controls">
                        <button class="play-btn" id="radius-play">▶</button>
                        <input type="range" min="0" max="100" value="0" class="axis-slider" id="radius-slider">
                    </div>
                    <div class="axis-range"><span id="radius-value">0</span></div>
                </div>

                <div class="axis-card">
                    <div class="axis-visual">
                        <div class="axis-text" id="weight-text">qwe<br>asd<br>zxc</div>
                    </div>
                    <div class="axis-label">Weight</div>
                    <div class="axis-controls">                    
                        <button class="play-btn" id="weight-play">▶</button>
                        <input type="range" min="0" max="100" value="0" class="axis-slider" id="weight-slider">
                    </div>
                    <div class="axis-range"><span id="weight-value">0</span></div>
                </div>

                <div class="axis-card">
                    <div class="axis-visual">
                        <div class="axis-text" id="amplitude-text">qwe<br>asd<br>zxc</div>
                    </div>
                    <div class="axis-label">Amplitude</div>
                    <div class="axis-controls">
                        <button class="play-btn" id="amplitude-play">▶</button>
                        <input type="range" min="0" max="100" value="0" class="axis-slider" id="amplitude-slider">
                    </div>
                    <div class="axis-range"><span id="amplitude-value">0</span></div>
                </div>
            </div>
        </div>
    </section>

    <!-- [2b] FULL SPECIMEN -->
    <section class="section full-height bg-white">
        <video id="fullposter-1" loop autoplay muted>
                <source src="videos/FullPoster_1.mp4" type="video/mp4">
            </video>
    </section>

    <!-- [3] CONNECTION INTRO -->
    <section class="section bg-light-yellow">
        <div class="split-layout">
            <div>
                <h2 class="section-title">Building Paths</h2>
                <p class="section-subtitle">
                    Each glyph connects to its neighbor through a modular component system. The typeface functions as a
                    pattern-making tool, generating endless interconnected pathways.
                </p>
            </div>
            <div class="wireframe-box medium">
                Sample Pattern<br>Animation
            </div>
        </div>
    </section>

    <!-- [3a] KEYBOARD MAPPING -->
    <section class="section bg-linen">
        <div class="centered-layout">
            <h3 style="font-size: 24px; font-weight: 600; margin-bottom: 40px;">Keyboard Mapping</h3>
            <div class="wireframe-box large">
                <strong>KEYBOARD DIAGRAM</strong><br><br>
                Visual layout showing key-to-glyph mapping<br><br>
                "To insert these characters in your text,<br>
                select 'Tangent' font, size 20/20 point"
            </div>
        </div>
    </section>

    <!-- [3b] PATTERN GLYPHSET -->
    <section class="section full-height bg-light-yellow">
        <div class="wireframe-box full">
            <div style="font-size: 14px;">
                <strong>COMPLETE PATTERN GLYPHSET</strong><br><br>
                Grid showing all pattern-generating glyphs<br>
                Organized by component type
            </div>
        </div>
    </section>

    <!-- [3c] LIVE TYPING -->
    <section class="section bg-light-yellow">
        <div class="centered-layout">
            <h3 style="font-size: 24px; font-weight: 600; margin-bottom: 40px;">Try It Yourself</h3>
            <div class="wireframe-box large">
                <strong>LIVE TYPING INTERFACE</strong><br><br>
                Interactive text input<br>
                Type to see patterns form in real-time
            </div>
        </div>
    </section>

    <!-- [4] GENERATION INTRO -->
    <section class="section bg-linen">
        <div class="centered-layout">
            <div class="section-label">[4] GENERATION</div>
            <h2 class="section-title">Endless Permutations</h2>
            <p class="section-subtitle">
                Interactive tools for creating complex pathway systems. Click, drag, and generate infinite variations.
            </p>
        </div>
    </section>

    <!-- [4a] PROCESSING SKETCH -->
    <section class="section full-height bg-dark">
        <div class="wireframe-box full">
            <div style="font-size: 14px; color: #f5f3ed;">
                <strong>PROCESSING SKETCH IFRAME</strong><br><br>
                Full viewport interactive experience<br>
                Click and drag to create pathways
            </div>
        </div>
    </section>

    <!-- [4b] ANIMATED POSTERS -->
    <section class="section bg-light-yellow">
        <div style="width: 100%; max-width: 1300px;">
            <h3 style="font-size: 24px; font-weight: 600; margin-bottom: 60px; text-align: center;">
                Generated Compositions
            </h3>
            <div class="poster-grid">
                <div class="poster-box">Animated Poster 1</div>
                <div class="poster-box">Animated Poster 2</div>
                <div class="poster-box">Animated Poster 3</div>
            </div>
        </div>
    </section>

    <!-- [5] VARIABILITY INTRO -->
    <section class="section bg-coral">
        <div class="split-layout">
            <div class="wireframe-box medium">
                Alphabet<br>Animation
            </div>
            <div>
                <div class="section-label">[5] VARIABILITY</div>
                <h2 class="section-title">Letterforms in Motion</h2>
                <p class="body-text">
                    Traditional letterforms that inherit the same variable system. Characters transform through weight,
                    contrast, construction, and twist.
                </p>
            </div>
        </div>
    </section>

    <!-- [5a] ALPHABET DISPLAY -->
    <section class="section full-height bg-light-yellow">
        <div class="wireframe-box full">
            <div style="font-size: 14px;">
                <strong>COMPLETE ALPHABET</strong><br><br>
                A—Z display
            </div>
        </div>
    </section>

    <!-- [5b] AXIS DEMONSTRATIONS -->
    <section class="section tall bg-linen">
        <div class="centered-layout">
            <div class="wireframe-box large" style="max-width: 900px; margin: 0 auto;">
                <strong>AXIS ANIMATION SEQUENCE</strong><br><br>
                Text specimen cycling through each axis
            </div>
        </div>
    </section>

    <!-- [5c] LIVE TYPING WITH CONTROLS -->
    <section class="section bg-light-yellow">
        <div class="centered-layout">
            <h3 style="font-size: 24px; font-weight: 600; margin-bottom: 40px;">Type to Explore</h3>
            <div class="wireframe-box large">
                <strong>INTERACTIVE TYPING + SLIDERS</strong><br><br>
                Text input field<br>
                Live axis controls (4 sliders)
            </div>
        </div>
    </section>

    <!-- [6] SPECIMEN INTRO -->
    <section class="section bg-periwinkle">
        <div class="centered-layout">
            <div class="section-label">[6] SPECIMEN</div>
            <h2 class="section-title">Three Voices</h2>
            <p class="section-subtitle">
                Tangent comes in three distinct versions, each with complete character sets for different applications.
            </p>
        </div>
    </section>

    <!-- [6a] TANGENT FORM -->
    <section class="section bg-light-yellow">
        <div class="split-layout">
            <div>
                <h3 style="font-size: 32px; font-weight: 600; margin-bottom: 20px;">Tangent Form</h3>
                <p class="body-text">
                    Pattern-generating glyphs<br>
                    500+ topological configurations<br>
                    Modular component system
                </p>
            </div>
            <div class="wireframe-box large">Form Glyphset</div>
        </div>
    </section>

    <!-- [6b] TANGENT MONO -->
    <section class="section bg-linen">
        <div class="split-layout">
            <div class="wireframe-box large">Mono Character Set</div>
            <div>
                <h3 style="font-size: 32px; font-weight: 600; margin-bottom: 20px;">Tangent Mono</h3>
                <p class="body-text">
                    Monospaced letterset<br>
                    Complete Latin extended<br>
                    Numbers, punctuation
                </p>
            </div>
        </div>
    </section>

    <!-- [6c] TANGENT SANS -->
    <section class="section bg-light-yellow">
        <div class="split-layout">
            <div>
                <h3 style="font-size: 32px; font-weight: 600; margin-bottom: 20px;">Tangent Sans</h3>
                <p class="body-text">
                    Proportional letterset<br>
                    Complete Latin extended<br>
                    Numbers, punctuation
                </p>
            </div>
            <div class="wireframe-box large">Sans Character Set</div>
        </div>
    </section>

    <!-- [6d] IN CONTEXT -->
    <section class="section bg-yellow">
        <div style="width: 100%; max-width: 1300px;">
            <h3 style="font-size: 24px; font-weight: 600; margin-bottom: 60px; text-align: center;">In Context</h3>
            <div class="specimen-row">
                <div class="specimen-col">
                    <div class="wireframe-box large">Specimen Text<br>Tangent Mono</div>
                </div>
                <div class="specimen-col">
                    <div class="wireframe-box large">Specimen Text<br>Tangent Sans</div>
                </div>
            </div>
        </div>
    </section>

    <!-- [7] DOWNLOAD -->
    <section id="download" class="section compact bg-light-yellow">
        <div style="width: 100%; max-width: 1300px;">
            <div style="text-align: center; margin-bottom: 80px;">
                <div class="section-label">[7] DOWNLOAD</div>
                <h2 class="section-title">Get Tangent</h2>
                <p class="section-subtitle">
                    Available in three versions. Download the complete variable font family.
                </p>
            </div>

            <div class="download-grid">
                <div class="download-card">
                    <div class="download-title">Tangent Form</div>
                    <div class="download-desc">
                        Pattern-generating glyphs<br>
                        500+ configurations<br>
                        4 variable axes
                    </div>
                    <a href="#" class="btn">Download</a>
                </div>

                <div class="download-card">
                    <div class="download-title">Tangent Mono</div>
                    <div class="download-desc">
                        Monospaced letterset<br>
                        Complete character set<br>
                        4 variable axes
                    </div>
                    <a href="#" class="btn">Download</a>
                </div>

                <div class="download-card">
                    <div class="download-title">Tangent Sans</div>
                    <div class="download-desc">
                        Proportional letterset<br>
                        Complete character set<br>
                        4 variable axes
                    </div>
                    <a href="#" class="btn">Download</a>
                </div>
            </div>
        </div>
    </section>

    <!-- SPECS -->
    <section class="section compact bg-linen">
        <div class="specs-layout">
            <div class="specs-column">
                <h3>Technical Specs</h3>
                <ul>
                    <li>Format: OpenType Variable Font</li>
                    <li>Axes: 4 (Radius, Twist, Weight, Amplitude)</li>
                    <li>Radius: 100–900</li>
                    <li>Twist: 0–100</li>
                    <li>Weight: 0–100</li>
                    <li>Amplitude: 0–100</li>
                    <li>Glyphs: 50+</li>
                    <li>Character Set: Latin</li>
                </ul>
            </div>

            <div class="specs-column">
                <h3>Credits & Info</h3>
                <ul>
                    <li>Designers: Deborah Khodanovich → <a href="https://dvorit.ca">dvorit.ca</a><br></li>
                    <li>Designer: Saachi Mehta → <a href="https://saachimehta.work/">saachimehta.work</a></li>
                    <li></li>
                    <li>Year: 2025-2026</li>
                    <li>License: Open Font License</li>
                    <li>Recommended size: 20pt+</li>
                    <li>Made with support from Kelsey Elder</li>
                </ul>
            </div>
        </div>
    </section>

    <!-- FOOTER -->
    <div class="footer bg-linen">
        <p>© 2025 TANGENT VARIABLE FONT</p>
    </div>


    <script>
        const letterSets = [
            { letters: ['M', 'O', 'N', 'O'] },
            { letters: ['F', 'O', 'R', 'M'] },
            { letters: ['S', 'A', 'N', 'S'] }
        ];

        const allLetters = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ'.split('');
        let currentSetIndex = 0;
        let isSpinning = false;

        function getRandomLetter() {
            return allLetters[Math.floor(Math.random() * allLetters.length)];
        }

        function spinSingleSlot(slot, targetLetter, delay) {
            return new Promise((resolve) => {
                setTimeout(() => {
                    const reel = slot.querySelector('.letter-reel');
                    const numRandomLetters = 16;
                    const letterHeight = 144;
                    const gap = 80; // Add the gap value
                    const totalLetterSpace = letterHeight + gap; // Total space per letter

                    // Build the reel with 16 random + target
                    reel.innerHTML = '';
                    for (let i = 0; i < numRandomLetters; i++) {
                        const div = document.createElement('div');
                        div.className = 'letter-item';
                        div.textContent = getRandomLetter();
                        reel.appendChild(div);
                    }

                    const target = document.createElement('div');
                    target.className = 'letter-item';
                    target.textContent = targetLetter;
                    reel.appendChild(target);

                    // Reset: position so FIRST letter is centered
                    reel.classList.remove('spinning');
                    reel.style.transition = 'none';
                    reel.style.top = `calc(50% - 72px)`; // Center the first letter

                    void reel.offsetHeight;

                    // Animate: move up so LAST letter (target) is centered
                    setTimeout(() => {
                        reel.classList.add('spinning');
                        reel.style.transition = 'top 1.5s cubic-bezier(0.25, 0.46, 0.45, 0.94)';
                        // Move up by 16 letters, accounting for gaps
                        reel.style.top = `calc(50% - 72px - ${numRandomLetters * totalLetterSpace}px)`;

                        setTimeout(() => {
                            reel.classList.remove('spinning');
                            resolve();
                        }, 1500);
                    }, 50);

                }, delay);
            });
        }

        async function spinSlots() {
            if (isSpinning) return;
            isSpinning = true;

            const slots = document.querySelectorAll('.letter-slot');
            currentSetIndex = (currentSetIndex + 1) % letterSets.length;
            const currentSet = letterSets[currentSetIndex];

            const spinPromises = [];
            slots.forEach((slot, index) => {
                spinPromises.push(spinSingleSlot(slot, currentSet.letters[index], index * 150));
            });

            await Promise.all(spinPromises);
            isSpinning = false;
        }

        document.addEventListener('DOMContentLoaded', () => {
    // Start spinning immediately on load
    spinSlots();
    
    // Then continue spinning every 5 seconds
    setInterval(spinSlots, 3000);
});

        // Variable font axis controls with play/pause
document.addEventListener('DOMContentLoaded', () => {
    const axes = [
    {
        name: 'twist',
        slider: document.getElementById('twist-slider'),
        text: document.getElementById('twist-text'),
        value: document.getElementById('twist-value'),
        playBtn: document.getElementById('twist-play'),
        updateFn: (val) => `"TWST" ${val}, "RDUS" 100, "wght" 50, "AMPT" 0`,
        isPlaying: false,
        direction: 1,
        currentValue: 0  // Matches value="0" in HTML
    },
    {
        name: 'radius',
        slider: document.getElementById('radius-slider'),
        text: document.getElementById('radius-text'),
        value: document.getElementById('radius-value'),
        playBtn: document.getElementById('radius-play'),
        updateFn: (val) => `"TWST" 0, "RDUS" ${val}, "wght" 50, "AMPT" 0`,
        isPlaying: false,
        direction: 1,
        currentValue: 0  // Matches value="0" in HTML
    },
    {
        name: 'weight',
        slider: document.getElementById('weight-slider'),
        text: document.getElementById('weight-text'),
        value: document.getElementById('weight-value'),
        playBtn: document.getElementById('weight-play'),
        updateFn: (val) => `"TWST" 0, "RDUS" 100, "wght" ${val}, "AMPT" 0`,
        isPlaying: false,
        direction: 1,
        currentValue: 0  // Matches value="0" in HTML
    },
    {
        name: 'amplitude',
        slider: document.getElementById('amplitude-slider'),
        text: document.getElementById('amplitude-text'),
        value: document.getElementById('amplitude-value'),
        playBtn: document.getElementById('amplitude-play'),
        updateFn: (val) => `"TWST" 0, "RDUS" 100, "wght" 0, "AMPT" ${val}`,
        isPlaying: false,
        direction: 1,
        currentValue: 0  // Matches value="0" in HTML
    }
];

    function animateLoop() {
    axes.forEach(axis => {
        if (!axis.isPlaying) return;

        // Add easing factor
        const distanceFromEdge = axis.direction === 1 ? (100 - axis.currentValue) : axis.currentValue;
        const easeFactor = Math.max(0.7, Math.min(1, distanceFromEdge / 20)); // Slow down near edges
        
        axis.currentValue += axis.direction * 1 * easeFactor;

        // Bounce at ends
        if (axis.currentValue >= 100) {
            axis.currentValue = 100;
            axis.direction = -1;
        } else if (axis.currentValue <= 0) {
            axis.currentValue = 0;
            axis.direction = 1;
        }

        axis.slider.value = axis.currentValue;
        axis.value.textContent = Math.round(axis.currentValue);
        axis.text.style.fontVariationSettings = axis.updateFn(axis.currentValue);
    });

    requestAnimationFrame(animateLoop);
}

    function stopAnimation(axis) {
        axis.isPlaying = false;
        axis.playBtn.textContent = '▶';
        axis.playBtn.classList.remove('playing');
    }

    function startAnimation(axis) {
        axis.isPlaying = true;
        axis.playBtn.textContent = '⏸';
        axis.playBtn.classList.add('playing');
    }

    axes.forEach(axis => {
        // Play/pause button
        axis.playBtn.addEventListener('click', () => {
            if (axis.isPlaying) {
                stopAnimation(axis);
            } else {
                startAnimation(axis);
            }
        });

        // Slider input - pause on interaction
        axis.slider.addEventListener('mousedown', () => {
            stopAnimation(axis);
        });

        axis.slider.addEventListener('input', (e) => {
            const value = parseFloat(e.target.value);
            axis.currentValue = value;
            axis.value.textContent = Math.round(value);
            axis.text.style.fontVariationSettings = axis.updateFn(value);
        });

        // Initialize
        axis.text.style.fontVariationSettings = axis.updateFn(axis.currentValue);
        startAnimation(axis);
    });

    // Start the animation loop
    animateLoop();
});

    </script>

</body>

</html>